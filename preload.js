// Plexcord 20f32bc
// Standalone: true
// Platform: Universal
// Updater Disabled: false
"use strict";function a(e,t=300){let o;return function(...d){clearTimeout(o),o=setTimeout(()=>{e(...d)},t)}}var n=require("electron"),_=require("fs"),l=require("path");var s=require("electron");function r(e,...t){return s.ipcRenderer.invoke(e,...t)}function S(e,...t){return s.ipcRenderer.sendSync(e,...t)}var c={},g=S("PlexcordGetPluginIpcMethodMap");for(let[e,t]of Object.entries(g)){let o=c[e]={};for(let[d,m]of Object.entries(t))o[d]=(...P)=>r(m,...P)}var i={themes:{uploadTheme:(e,t)=>r("PlexcordUploadTheme",e,t),deleteTheme:e=>r("PlexcordDeleteTheme",e),getThemesDir:()=>r("PlexcordGetThemesDir"),getThemesList:()=>r("PlexcordGetThemesList"),getThemeData:e=>r("PlexcordGetThemeData",e),getSystemValues:()=>r("PlexcordGetThemeSystemValues"),openFolder:()=>r("PlexcordOpenThemesFolder")},updater:{getUpdates:()=>r("PlexcordGetUpdates"),update:()=>r("PlexcordUpdate"),rebuild:()=>r("PlexcordBuild"),getRepo:()=>r("PlexcordGetRepo")},settings:{get:()=>S("PlexcordGetSettings"),set:(e,t)=>r("PlexcordSetSettings",e,t),getSettingsDir:()=>r("PlexcordGetSettingsDir"),openFolder:()=>r("PlexcordOpenSettingsFolder")},quickCss:{get:()=>r("PlexcordGetQuickCss"),set:e=>r("PlexcordSetQuickCss",e),addChangeListener(e){s.ipcRenderer.on("PlexcordQuickCssUpdate",(t,o)=>e(o))},addThemeChangeListener(e){s.ipcRenderer.on("PlexcordThemeUpdate",()=>e())},openFile:()=>r("PlexcordOpenQuickCss"),openEditor:()=>r("PlexcordOpenMonacoEditor")},native:{getVersions:()=>process.versions,openExternal:e=>r("PlexcordOpenExternal",e)},csp:{isDomainAllowed:(e,t)=>r("PlexcordCspIsDomainAllowed",e,t),removeOverride:e=>r("PlexcordCspRemoveOverride",e),requestAddOverride:(e,t,o)=>r("PlexcordCspRequestAddOverride",e,t,o)},pluginHelpers:c};n.contextBridge.exposeInMainWorld("PlexcordNative",i);if(location.protocol!=="data:"){let e=(0,l.join)(__dirname,"renderer.css"),t=document.createElement("style");t.id="plexcord-css-core",t.textContent=(0,_.readFileSync)(e,"utf-8"),document.readyState==="complete"?document.documentElement.appendChild(t):document.addEventListener("DOMContentLoaded",()=>document.documentElement.appendChild(t),{once:!0}),n.webFrame.executeJavaScript((0,_.readFileSync)((0,l.join)(__dirname,"renderer.js"),"utf-8")),require(process.env.DISCORD_PRELOAD)}else n.contextBridge.exposeInMainWorld("setCss",a(i.quickCss.set)),n.contextBridge.exposeInMainWorld("getCurrentCss",i.quickCss.get),n.contextBridge.exposeInMainWorld("getTheme",()=>"vs-dark");
//# sourceURL=file:///PlexcordPreload
//# sourceMappingURL=plexcord://preload.js.map
